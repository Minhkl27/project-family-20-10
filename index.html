<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Family 20-10 | Cây Gia Phả Yêu Thương</title>
    <style>
        /* CSS để iframe chiếm toàn bộ màn hình và loại bỏ viền/thanh cuộn không mong muốn */
        body,
        html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            /* Ẩn thanh cuộn của trang chính */
        }

        #content-frame {
            border: none;
            width: 100%;
            height: 100%;
            display: block;
        }
    </style>
</head>

<body>
    <!-- Trình phát nhạc nền -->
    <!-- Giả sử bạn có tệp nhạc tại assets/music/background-music.mp3 -->
    <audio id="background-audio" src="assets/music/background-music.mp3" loop autoplay></audio>

    <!-- Iframe để hiển thị nội dung các trang con -->
    <iframe id="content-frame" name="content-frame" src="home.html"></iframe>

    <script>
        // Xử lý chính sách chặn autoplay của trình duyệt
        document.addEventListener('DOMContentLoaded', () => {
            const audio = document.getElementById('background-audio');
            // Thử phát nhạc
            const promise = audio.play();

            if (promise !== undefined) {
                promise.catch(error => {
                    // Autoplay bị chặn. Chúng ta sẽ đợi người dùng tương tác lần đầu.
                    console.log('Autoplay bị chặn. Cần người dùng tương tác.');
                    // Thêm một sự kiện lắng nghe click trên toàn bộ trang
                    // Khi người dùng click lần đầu, nhạc sẽ phát và sự kiện này sẽ tự hủy
                    document.body.addEventListener('click', () => audio.play(), { once: true });
                    document.body.addEventListener('touchstart', () => audio.play(), { once: true });
                });
            }
        });
    </script>
</body>

</html>